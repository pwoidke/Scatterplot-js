/*********************************************
Scatterplot.js
Author : Paul Woidke
URL    : http://www.paulwoidke.com
*********************************************/
(function(e){e.fn.extend({scatter:function(t){var n=e.extend({height:300,width:300,xLabel:"",yLabel:"",rows:1,columns:1,subsections:1,color:"#CCC",responsive:false,xUnits:[],yUnits:[]},t);return this.each(function(){var t=e(this),r,i,s,o,u,a;t.addClass("scatterplot");if(n.width<1){n.width=0}if(n.height<1){n.height=0}if(n.rows<1){n.rows=1}if(n.columns<1){n.columns=1}if(n.subsections<1){n.subsections=1}if(n.responsive){t.addClass("responsive");r=1/n.columns*100;i=1/n.rows*100}else{r=n.width/n.columns;i=n.height/n.rows}t.css({position:"relative",height:n.height,width:n.width,backgroundColor:n.color,margin:40,backgroundImage:"linear-gradient(white 2px, transparent 2px), linear-gradient(90deg, white 2px, transparent 2px), linear-gradient(rgba(255,255,255,.4) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.4) 1px, transparent 1px)",backgroundPosition:"-2px -2px, -2px -2px, -1px -1px, -1px -1px"});if(n.responsive){t.css({backgroundSize:r+"% "+i+"%,"+r+"% "+i+"%,"+r/n.subsections+"% "+i/n.subsections+"%,"+r/n.subsections+"% "+i/n.subsections+"%"})}else{t.css({backgroundSize:r+"px "+i+"px,"+r+"px "+i+"px,"+r/n.subsections+"px "+i/n.subsections+"px,"+r/n.subsections+"px "+i/n.subsections+"px"})}if(n.xUnits.length>0){t.append('<span class="x-Units"><ul></ul></span>');u=t.find(".x-Units ul");e(n.xUnits).each(function(){u.append("<li>"+this+"</li>")});u.find("li").width(1/(n.xUnits.length-1)*100+"%");t.find(".x-Units").css({bottom:-u.height()})}if(n.yUnits.length>0){t.append('<span class="y-Units"><ul></ul></span>');a=t.find(".y-Units ul");e(n.yUnits).each(function(){a.append("<li>"+this+"</li>")});a.find("li").width(1/(n.yUnits.length-1)*100+"%");t.find(".y-Units").css({width:t.height(),left:-(t.height()/2-a.height()/2)-a.height(),bottom:t.height()/2-a.height()/2})}if(n.xLabel.length>0){t.append('<span class="x-Label"></span>');s=t.find(".x-Label").html(n.xLabel);s.css({left:t.width()/2-s.width()/2,bottom:-(s.height()+t.find(".x-Units").height())});if(n.responsive){s.css({left:(t.width()/2-s.width()/2)/t.width()*100+"%"})}}if(n.yLabel.length>0){t.append('<span class="y-Label"></span>');o=t.find(".y-Label").html(n.yLabel);o.css({left:-(60+t.find(".y-Units").height()),bottom:t.height()/2-o.height()/2});if(n.responsive){o.css({bottom:(t.height()/2-o.height()/2)/t.height()*100+"%"})}}if(n.xUnits.length>0){t.css({marginBottom:40+t.find(".x-Units").height()})}if(n.yUnits.length>0){t.css({marginLeft:40+t.find(".y-Units").height()})}})},plot:function(t){var n=e.extend({xPos:0,yPos:0,radius:20,color:"rgb(255, 0, 0)",responsive:false},t);return this.each(function(){var t=e(this),r=-1,i=-1;n.responsive=t.parent().hasClass("responsive");r=t.css("left");i=t.css("bottom");if(n.xPos<0){n.xPos=0}if(n.yPos<0){n.yPos=0}if(n.radius<1){n.radius=1}t.addClass("point");t.css({width:n.radius*2,height:n.radius*2,borderRadius:n.radius});if(t.css("background-color")===n.color||t.css("background-color")==="transparent"){t.css({backgroundColor:n.color})}if(n.responsive){if(typeof n.xPos==="string"||n.xPos instanceof String){if(n.xPos.indexOf("%")!=-1){t.css({left:(parseFloat(n.xPos)/100-n.radius/t.parent().width())*100+"%"})}else{t.css({left:n.xPos})}}else if(typeof r==="string"||r instanceof String){if(r.indexOf("%")!=-1){t.css({left:(parseFloat(r)/100-n.radius/t.parent().width())*100+"%"})}else{t.css({left:r})}}else{t.css({left:n.xPos})}if(typeof n.yPos==="string"||n.yPos instanceof String){if(n.yPos.indexOf("%")!=-1){t.css({bottom:(parseFloat(n.yPos)/100-n.radius/t.parent().width())*100+"%"})}else{t.css({bottom:n.yPos})}}else if(typeof i==="string"||i instanceof String){if(i.indexOf("%")!=-1){t.css({bottom:(parseFloat(i)/100-n.radius/t.parent().width())*100+"%"})}else{t.css({bottom:i})}}else{t.css({bottom:n.yPos})}}else{r=parseInt(r);i=parseInt(i);if(r!=-1&&!isNaN(r)){t.css({left:r-n.radius})}else{t.css({left:n.xPos-n.radius})}if(i!=-1&&!isNaN(i)){t.css({bottom:i-n.radius})}else{t.css({bottom:n.yPos-n.radius})}}})}})})(jQuery)
